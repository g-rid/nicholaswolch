// https://www.youtube.com/watch?v=NdftnCDwKaU&t=1390s

:root {
  --mouse-x: 0deg;
  --mouse-y: 0deg;
  --rotate-speed: 30s;
}

@mixin gutter-spacing($cube) {
  top: calc(var(--gutter-spacing) * $cube);
  right: calc(var(--gutter-spacing) * $cube);
  bottom: calc(var(--gutter-spacing) * $cube);
  left: calc(var(--gutter-spacing) * $cube);
}
@mixin cubeGenerator($width, $height) {
  width: $width;
  height: $height;
  .left,
  .right,
  .front,
  .back,
  .top,
  .bottom {
    position: absolute;
    opacity: 0.5;
    border: 1px solid var(--primary-color);
    background-color: var(--secondary-color);
    transform-style: preserve-3d;
  }
  .left,
  .right,
  .front,
  .back {
    width: 100%;
    height: 100%;
    box-shadow: 0 0 0.5em var(--secondary-color) inset;
  }
  .front {
    transform: translateZ(2.5em);
  }
  .right {
    transform: rotateY(90deg) translateZ(2.5em);
  }
  .back {
    transform: rotateY(180deg) translateZ(2.5em);
  }
  .left {
    transform: rotateY(270deg) translateZ(2.5em);
  }
  .top,
  .bottom {
    width: 5em;
    height: 5em;
  }
  .top {
    transform: translateY(-50%) rotateX(90deg);
  }
  .bottom {
    bottom: 0;
    transform: translateY(50%) rotateX(90deg);
  }
}

.cube-position-wrapper {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.background-animation-frame {
  position: fixed;
  top: var(--gutter-spacing);
  right: var(--gutter-spacing);
  bottom: var(--gutter-spacing);
  left: var(--gutter-spacing);
  transition: 0s ease;
  overflow: hidden;
  perspective: 10em;
  perspective-origin: 50% calc(50% - 4em);
}

.cube {
  position: relative;
  transform-style: preserve-3d;
  transform: rotateY(var(--mouse-x)) rotateX(var(--mouse-y));
  animation: rotatecube 100s infinite linear;
  @keyframes rotatecube {
    to {
      transform: rotateY(360deg);
    }
  }
  &.cube-1 {
    @include cubeGenerator(5em, 5em);
  }
  &.cube-2 {
    @include cubeGenerator(3em, 3em);
  }

  // &.cube-2 {
  //   @include gutter-spacing(2);
  //   transform: perspective(3000px) rotateZ(calc(var(--mouse-x) * 1.2));
  //   // transform: rotate3d(2, -1, -1, -0.2turn);
  //   opacity: 0.7;
  // }
  // &.cube-3 {
  //   @include gutter-spacing(3);
  //   transform: perspective(3000px) rotateZ(calc(var(--mouse-x) * 1.3));
  //   // transform: rotate3d(0, 1, 0.5, 3.142rad);
  //   opacity: 0.6;
  // }
  // &.cube-4 {
  //   @include gutter-spacing(4);
  //   transform: perspective(3000px) rotateZ(calc(var(--mouse-x) * 1.4));
  //   opacity: 0.5;
  // }
  // &.cube-5 {
  //   @include gutter-spacing(5);
  //   transform: perspective(3000px) rotateZ(calc(var(--mouse-x) * 1.5));
  //   opacity: 0.4;
  // }
  // &.cube-6 {
  //   @include gutter-spacing(6);
  //   transform: perspective(3000px) rotateZ(calc(var(--mouse-x) * 1.6));
  //   opacity: 0.3;
  // }
  // &.cube-7 {
  //   @include gutter-spacing(7);
  //   transform: perspective(3000px) rotateZ(calc(var(--mouse-x) * 1.7));
  //   opacity: 0.2;
  // }
  // &.cube-8 {
  //   @include gutter-spacing(8);
  //   transform: perspective(3000px) rotateZ(calc(var(--mouse-x) * 1.8));
  //   opacity: 0.1;
  // }
}
